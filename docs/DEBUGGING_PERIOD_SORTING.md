# –û—Ç–ª–∞–¥–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–µ—Ä–∏–æ–¥–æ–≤ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä–∞

## üîç –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ:
1. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–∏–æ–¥–æ–≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è** - –ø–µ—Ä–∏–æ–¥—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ö–∞–æ—Ç–∏—á–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
2. **–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–µ—Ä–∏–æ–¥—É** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è `30.06 - 06.07` –≤–º–µ—Å—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ `14.07 - 20.07`

## üõ†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### 1. **–í `periodUtils.ts`:**

#### **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `isValidPeriod`:**
```typescript
export function isValidPeriod(period: string): boolean {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–µ—Ä–∏–æ–¥ –Ω–µ –ø—É—Å—Ç–æ–π –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É "DD.MM - DD.MM"
  if (!period || typeof period !== 'string') return false;
  
  // –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
  const trimmedPeriod = period.trim();
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
  const periodRegex = /^\d{2}\.\d{2}\s*-\s*\d{2}\.\d{2}$/;
  const isValid = periodRegex.test(trimmedPeriod);
  
  console.log('Period validation:', {
    period,
    trimmedPeriod,
    isValid,
    regexMatch: trimmedPeriod.match(periodRegex)
  });
  
  return isValid;
}
```

#### **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ `sortPeriods`:**
```typescript
// –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
console.log('Period sorting debug:', {
  periodA: a,
  periodB: b,
  dateA: dateA.toISOString(),
  dateB: dateB.toISOString(),
  comparison: dateA.getTime() - dateB.getTime()
});
```

### 2. **–í `FiltersPanel.tsx`:**

#### **–ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:**
```typescript
// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–µ—Ä–∏–æ–¥—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö
const allPeriods = [...new Set(data.data.map((r: ProjectRecordInterface) => r.period))];
console.log('All periods from data:', allPeriods);

// –§–∏–ª—å—Ç—Ä—É–µ–º –≤–∞–ª–∏–¥–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
const validPeriods = allPeriods.filter(isValidPeriod);
console.log('Valid periods:', validPeriods);

// –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–µ—Ä–∏–æ–¥—ã
const sortedPeriods = sortPeriods(validPeriods);
console.log('Sorted periods:', sortedPeriods);

// –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–∏–æ–¥—ã –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–≤–µ—Ä—Ö—É)
const displayPeriods = getPeriodsForDisplay(sortedPeriods);
console.log('Display periods:', displayPeriods);
```

### 3. **–í `DashboardPage` (index.tsx):**

#### **–û—Ç–ª–∞–¥–∫–∞ –ø–µ—Ä–∏–æ–¥–æ–≤ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä–∞:**
```typescript
const periods = useMemo(() => {
  const allPeriods = [...new Set(data?.data.map((r: ProjectRecordInterface) => r.period) || [])];
  console.log('DashboardPage - All periods:', allPeriods);
  
  const validPeriods = allPeriods.filter(isValidPeriod);
  console.log('DashboardPage - Valid periods:', validPeriods);
  
  const sortedPeriods = sortPeriods(validPeriods);
  console.log('DashboardPage - Sorted periods:', sortedPeriods);
  
  return sortedPeriods;
}, [data]);
```

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç:**
```typescript
const getStartDate = (period: string) => {
  const startDateStr = period.split(' - ')[0]; // "02.06" -> "02.06"
  const [day, month] = startDateStr.split('.');
  
  // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –≥–æ–¥ —Ç–µ–∫—É—â–∏–π
  const currentYear = new Date().getFullYear();
  let date = new Date(currentYear, parseInt(month) - 1, parseInt(day));
  
  // –ï—Å–ª–∏ –º–µ—Å—è—Ü –º–µ–Ω—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞, —Ç–æ —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π –≥–æ–¥
  const currentMonth = new Date().getMonth();
  if (parseInt(month) - 1 < currentMonth) {
    date = new Date(currentYear + 1, parseInt(month) - 1, parseInt(day));
  }
  
  return date;
};
```

### 2. **–£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö**
- ‚úÖ **–£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤**
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**

## üìä –ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –æ—Ç–ª–∞–¥–∫–∞

### **–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**

1. **–í—Å–µ –ø–µ—Ä–∏–æ–¥—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö:**
   ```
   All periods from data: ["02.06 - 08.06", "09.06 - 15.06", ...]
   ```

2. **–í–∞–ª–∏–¥–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
   ```
   Valid periods: ["02.06 - 08.06", "09.06 - 15.06", ...]
   ```

3. **–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã:**
   ```
   Sorted periods: ["02.06 - 08.06", "09.06 - 15.06", ...]
   ```

4. **–ü–µ—Ä–∏–æ–¥—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ):**
   ```
   Display periods: ["14.07 - 20.07", "07.07 - 13.07", ...]
   ```

5. **–û—Ç–ª–∞–¥–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:**
   ```
   Period sorting debug: {
     periodA: "02.06 - 08.06",
     periodB: "09.06 - 15.06",
     dateA: "2024-06-02T00:00:00.000Z",
     dateB: "2024-06-09T00:00:00.000Z",
     comparison: -604800000
   }
   ```

6. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤:**
   ```
   Period validation: {
     period: "02.06 - 08.06",
     trimmedPeriod: "02.06 - 08.06",
     isValid: true,
     regexMatch: ["02.06 - 08.06"]
   }
   ```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

### **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–∏–æ–¥–æ–≤:**
```
–í—Å–µ –ø–µ—Ä–∏–æ–¥—ã
14.07 - 20.07 ‚Üê –ü–æ—Å–ª–µ–¥–Ω–∏–π (—Å–∞–º—ã–π –Ω–æ–≤—ã–π)
07.07 - 13.07
30.06 - 06.07
23.06 - 29.06
16.06 - 22.06
09.06 - 15.06
02.06 - 08.06
```

### **–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞:**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è `14.07 - 20.07`**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –ø—Ä–∏ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** (F12)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –æ–Ω–∏ –ø–æ–∫–∞–∂—É—Ç –≤—Å–µ —ç—Ç–∞–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–∏–æ–¥–æ–≤
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã** - –ø–µ—Ä–∏–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä** - –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ –æ—Å—Ç–∞–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏** - –æ–Ω–∏ –ø–æ–∫–∞–∂—É—Ç, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–∏–æ–¥–æ–≤** –≤ Excel —Ñ–∞–π–ª–µ
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –ø–∞—Ä—Å—è—Ç—Å—è –¥–∞—Ç—ã** –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getStartDate`

–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞! üîç 